import React from 'react'
import Taro, { useDidShow, useRouter } from '@tarojs/taro'

import { View } from '@tarojs/components'
import qs from 'qs'

const PageView = () => {
  const router = useRouter()
  useDidShow(async () => {
    const params = router.params
    const query = qs.stringify(params, {encode: false})

    let url = `/<%- path %>`
    // console.log('@@@@@@@@ pageVie', url, query)

    if (query) {
      url = `${url}?${query}`
    }

    Taro.redirectTo({ url })
  })
  return <View></View>
}

export default PageView
